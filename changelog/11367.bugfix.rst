[junit] move properties handling to :func:`finalize()`

seem like not all the cases of calling finalize were adding the properties into the test case element,
which leads to some test cases missing the expected properties.
